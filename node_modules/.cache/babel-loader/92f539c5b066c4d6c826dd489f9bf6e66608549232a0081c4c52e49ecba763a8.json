{"ast":null,"code":"import \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport \"core-js/modules/es.array.push.js\";\n// [x] 6. Наличие в состоянии ЗАВИСИМЫХ ДАННЫХ | Критичность: 5+\n// [ ] 4. Запросы напрямую внутри компонента (???) | Критичность: 5\n// [ ] 2. При удалении остается подписка на загрузку тикера | Критичность: 5\n// [ ] 5. Обработка ошибок API | Критичность: 5\n// [ ] 3. Количество запросов | Критичность: 4\n// [x] 8. При удалении тикера не изменяется localStorage | Критичность: 4\n// [x] 1. Одинаковый код в watch | Критичность: 3\n// [ ] 9. localStorage и анонимные вкладки | Критичность: 3\n// [ ] 7. График ужасно выглядит если будет много цен | Критичность: 2\n// [ ] 10. Магические строки и числа (URL, 5000 миллисекунд задержки, ключ локал стораджа, количество на странице) |  Критичность: 1\n\n// Параллельно\n// [x] График сломан если везде одинаковые значения\n// [x] При удалении тикера остается выбор\n\nexport default {\n  name: \"App\",\n  data() {\n    return {\n      ticker: \"\",\n      filter: \"\",\n      tickers: [],\n      selectedTicker: null,\n      graph: [],\n      page: 1\n    };\n  },\n  created() {\n    const windowData = Object.fromEntries(new URL(window.location).searchParams.entries());\n    const VALID_KEYS = [\"filter\", \"page\"];\n    VALID_KEYS.forEach(key => {\n      if (windowData[key]) {\n        this[key] = windowData[key];\n      }\n    });\n\n    // if (windowData.filter) {\n    //   this.filter = windowData.filter;\n    // }\n\n    // if (windowData.page) {\n    //   this.page = windowData.page;\n    // }\n\n    const tickersData = localStorage.getItem(\"cryptonomicon-list\");\n    if (tickersData) {\n      this.tickers = JSON.parse(tickersData);\n      this.tickers.forEach(ticker => {\n        this.subscribeToUpdates(ticker.name);\n      });\n    }\n  },\n  computed: {\n    startIndex() {\n      return (this.page - 1) * 6;\n    },\n    endIndex() {\n      return this.page * 6;\n    },\n    filteredTickers() {\n      return this.tickers.filter(ticker => ticker.name.includes(this.filter));\n    },\n    paginatedTickers() {\n      return this.filteredTickers.slice(this.startIndex, this.endIndex);\n    },\n    hasNextPage() {\n      return this.filteredTickers.length > this.endIndex;\n    },\n    normalizedGraph() {\n      const maxValue = Math.max(...this.graph);\n      const minValue = Math.min(...this.graph);\n      if (maxValue === minValue) {\n        return this.graph.map(() => 50);\n      }\n      return this.graph.map(price => 5 + (price - minValue) * 95 / (maxValue - minValue));\n    },\n    pageStateOptions() {\n      return {\n        filter: this.filter,\n        page: this.page\n      };\n    }\n  },\n  methods: {\n    subscribeToUpdates(tickerName) {\n      setInterval(async () => {\n        const f = await fetch(`https://min-api.cryptocompare.com/data/price?fsym=${tickerName}&tsyms=USD&api_key=ce3fd966e7a1d10d65f907b20bf000552158fd3ed1bd614110baa0ac6cb57a7e`);\n        const data = await f.json();\n\n        // currentTicker.price =  data.USD > 1 ? data.USD.toFixed(2) : data.USD.toPrecision(2);\n        this.tickers.find(t => t.name === tickerName).price = data.USD > 1 ? data.USD.toFixed(2) : data.USD.toPrecision(2);\n        if (this.selectedTicker?.name === tickerName) {\n          this.graph.push(data.USD);\n        }\n      }, 5000);\n      this.ticker = \"\";\n    },\n    add() {\n      const currentTicker = {\n        name: this.ticker,\n        price: \"-\"\n      };\n      this.tickers = [...this.tickers, currentTicker];\n      this.filter = \"\";\n      this.subscribeToUpdates(currentTicker.name);\n    },\n    select(ticker) {\n      console.log(ticker);\n      this.selectedTicker = ticker;\n    },\n    handleDelete(tickerToRemove) {\n      this.tickers = this.tickers.filter(t => t !== tickerToRemove);\n      if (this.selectedTicker === tickerToRemove) {\n        this.selectedTicker = null;\n      }\n    }\n  },\n  watch: {\n    selectedTicker() {\n      this.graph = [];\n    },\n    tickers(newValue, oldValue) {\n      // Почему не сработал watch при добавлении?\n      console.log(newValue === oldValue);\n      localStorage.setItem(\"cryptonomicon-list\", JSON.stringify(this.tickers));\n    },\n    paginatedTickers() {\n      if (this.paginatedTickers.length === 0 && this.page > 1) {\n        this.page -= 1;\n      }\n    },\n    filter() {\n      this.page = 1;\n    },\n    pageStateOptions(value) {\n      window.history.pushState(null, document.title, `${window.location.pathname}?filter=${value.filter}&page=${value.page}`);\n    }\n  }\n};","map":{"version":3,"names":["name","data","ticker","filter","tickers","selectedTicker","graph","page","created","windowData","Object","fromEntries","URL","window","location","searchParams","entries","VALID_KEYS","forEach","key","tickersData","localStorage","getItem","JSON","parse","subscribeToUpdates","computed","startIndex","endIndex","filteredTickers","includes","paginatedTickers","slice","hasNextPage","length","normalizedGraph","maxValue","Math","max","minValue","min","map","price","pageStateOptions","methods","tickerName","setInterval","f","fetch","json","find","t","USD","toFixed","toPrecision","push","add","currentTicker","select","console","log","handleDelete","tickerToRemove","watch","newValue","oldValue","setItem","stringify","value","history","pushState","document","title","pathname"],"sources":["/home/harut/Desktop/cryptonomicon/src/App.vue"],"sourcesContent":["<template>\n  <div class=\"container mx-auto flex flex-col items-center bg-gray-100 p-4\">\n    <div class=\"container\">\n      <div class=\"w-full my-4\"></div>\n      <section>\n        <div class=\"flex\">\n          <div class=\"max-w-xs\">\n            <label for=\"wallet\" class=\"block text-sm font-medium text-gray-700\"\n              >Тикер</label\n            >\n            <div class=\"mt-1 relative rounded-md shadow-md\">\n              <input\n                v-model=\"ticker\"\n                @keydown.enter=\"add\"\n                type=\"text\"\n                name=\"wallet\"\n                id=\"wallet\"\n                class=\"block w-full pr-10 border-gray-300 text-gray-900 focus:outline-none focus:ring-gray-500 focus:border-gray-500 sm:text-sm rounded-md\"\n                placeholder=\"Например DOGE\"\n              />\n            </div>\n          </div>\n        </div>\n        <button\n          @click=\"add\"\n          type=\"button\"\n          class=\"my-4 inline-flex items-center py-2 px-4 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-full text-white bg-gray-600 hover:bg-gray-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\"\n        >\n          <!-- Heroicon name: solid/mail -->\n          <svg\n            class=\"-ml-0.5 mr-2 h-6 w-6\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"30\"\n            height=\"30\"\n            viewBox=\"0 0 24 24\"\n            fill=\"#ffffff\"\n          >\n            <path\n              d=\"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"\n            ></path>\n          </svg>\n          Добавить\n        </button>\n      </section>\n\n      <template v-if=\"tickers.length\">\n        <hr class=\"w-full border-t border-gray-600 my-4\" />\n        <div>\n          <button\n            class=\"my-4 mx-2 inline-flex items-center py-2 px-4 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-full text-white bg-gray-600 hover:bg-gray-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\"\n            v-if=\"page > 1\"\n            @click=\"page = page - 1\"\n          >\n            Назад\n          </button>\n          <button\n            class=\"my-4 mx-2 inline-flex items-center py-2 px-4 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-full text-white bg-gray-600 hover:bg-gray-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\"\n            @click=\"page = page + 1\"\n            v-if=\"hasNextPage\"\n          >\n            Вперед\n          </button>\n          <div>Фильтр: <input v-model=\"filter\" /></div>\n        </div>\n        <hr class=\"w-full border-t border-gray-600 my-4\" />\n        <dl class=\"mt-5 grid grid-cols-1 gap-5 sm:grid-cols-3\">\n          <div\n            v-for=\"t in paginatedTickers\"\n            :key=\"t.name\"\n            @click=\"select(t)\"\n            :class=\"{\n              'border-4': selectedTicker === t\n            }\"\n            class=\"bg-white overflow-hidden shadow rounded-lg border-purple-800 border-solid cursor-pointer\"\n          >\n            <div class=\"px-4 py-5 sm:p-6 text-center\">\n              <dt class=\"text-sm font-medium text-gray-500 truncate\">\n                {{ t.name }} - USD\n              </dt>\n              <dd class=\"mt-1 text-3xl font-semibold text-gray-900\">\n                {{ t.price }}\n              </dd>\n            </div>\n            <div class=\"w-full border-t border-gray-200\"></div>\n            <button\n              @click.stop=\"handleDelete(t)\"\n              class=\"flex items-center justify-center font-medium w-full bg-gray-100 px-4 py-4 sm:px-6 text-md text-gray-500 hover:text-gray-600 hover:bg-gray-200 hover:opacity-20 transition-all focus:outline-none\"\n            >\n              <svg\n                class=\"h-5 w-5\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                viewBox=\"0 0 20 20\"\n                fill=\"#718096\"\n                aria-hidden=\"true\"\n              >\n                <path\n                  fill-rule=\"evenodd\"\n                  d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\"\n                  clip-rule=\"evenodd\"\n                ></path></svg\n              >Удалить\n            </button>\n          </div>\n        </dl>\n        <hr class=\"w-full border-t border-gray-600 my-4\" />\n      </template>\n      <section v-if=\"selectedTicker\" class=\"relative\">\n        <h3 class=\"text-lg leading-6 font-medium text-gray-900 my-8\">\n          {{ selectedTicker.name }} - USD\n        </h3>\n        <div class=\"flex items-end border-gray-600 border-b border-l h-64\">\n          <div\n            v-for=\"(bar, idx) in normalizedGraph\"\n            :key=\"idx\"\n            :style=\"{ height: `${bar}%` }\"\n            class=\"bg-purple-800 border w-10\"\n          ></div>\n        </div>\n        <button\n          @click=\"selectedTicker = null\"\n          type=\"button\"\n          class=\"absolute top-0 right-0\"\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            xmlns:svgjs=\"http://svgjs.com/svgjs\"\n            version=\"1.1\"\n            width=\"30\"\n            height=\"30\"\n            x=\"0\"\n            y=\"0\"\n            viewBox=\"0 0 511.76 511.76\"\n            style=\"enable-background:new 0 0 512 512\"\n            xml:space=\"preserve\"\n          >\n            <g>\n              <path\n                d=\"M436.896,74.869c-99.84-99.819-262.208-99.819-362.048,0c-99.797,99.819-99.797,262.229,0,362.048    c49.92,49.899,115.477,74.837,181.035,74.837s131.093-24.939,181.013-74.837C536.715,337.099,536.715,174.688,436.896,74.869z     M361.461,331.317c8.341,8.341,8.341,21.824,0,30.165c-4.16,4.16-9.621,6.251-15.083,6.251c-5.461,0-10.923-2.091-15.083-6.251    l-75.413-75.435l-75.392,75.413c-4.181,4.16-9.643,6.251-15.083,6.251c-5.461,0-10.923-2.091-15.083-6.251    c-8.341-8.341-8.341-21.845,0-30.165l75.392-75.413l-75.413-75.413c-8.341-8.341-8.341-21.845,0-30.165    c8.32-8.341,21.824-8.341,30.165,0l75.413,75.413l75.413-75.413c8.341-8.341,21.824-8.341,30.165,0    c8.341,8.32,8.341,21.824,0,30.165l-75.413,75.413L361.461,331.317z\"\n                fill=\"#718096\"\n                data-original=\"#000000\"\n              ></path>\n            </g>\n          </svg>\n        </button>\n      </section>\n    </div>\n  </div>\n</template>\n\n<script>\n// [x] 6. Наличие в состоянии ЗАВИСИМЫХ ДАННЫХ | Критичность: 5+\n// [ ] 4. Запросы напрямую внутри компонента (???) | Критичность: 5\n// [ ] 2. При удалении остается подписка на загрузку тикера | Критичность: 5\n// [ ] 5. Обработка ошибок API | Критичность: 5\n// [ ] 3. Количество запросов | Критичность: 4\n// [x] 8. При удалении тикера не изменяется localStorage | Критичность: 4\n// [x] 1. Одинаковый код в watch | Критичность: 3\n// [ ] 9. localStorage и анонимные вкладки | Критичность: 3\n// [ ] 7. График ужасно выглядит если будет много цен | Критичность: 2\n// [ ] 10. Магические строки и числа (URL, 5000 миллисекунд задержки, ключ локал стораджа, количество на странице) |  Критичность: 1\n\n// Параллельно\n// [x] График сломан если везде одинаковые значения\n// [x] При удалении тикера остается выбор\n\nexport default {\n  name: \"App\",\n\n  data() {\n    return {\n      ticker: \"\",\n      filter: \"\",\n\n      tickers: [],\n      selectedTicker: null,\n\n      graph: [],\n\n      page: 1\n    };\n  },\n\n  created() {\n    const windowData = Object.fromEntries(\n      new URL(window.location).searchParams.entries()\n    );\n\n    const VALID_KEYS = [\"filter\", \"page\"];\n\n    VALID_KEYS.forEach(key => {\n      if (windowData[key]) {\n        this[key] = windowData[key];\n      }\n    });\n\n    // if (windowData.filter) {\n    //   this.filter = windowData.filter;\n    // }\n\n    // if (windowData.page) {\n    //   this.page = windowData.page;\n    // }\n\n    const tickersData = localStorage.getItem(\"cryptonomicon-list\");\n\n    if (tickersData) {\n      this.tickers = JSON.parse(tickersData);\n      this.tickers.forEach(ticker => {\n        this.subscribeToUpdates(ticker.name);\n      });\n    }\n  },\n\n  computed: {\n    startIndex() {\n      return (this.page - 1) * 6;\n    },\n\n    endIndex() {\n      return this.page * 6;\n    },\n\n    filteredTickers() {\n      return this.tickers.filter(ticker => ticker.name.includes(this.filter));\n    },\n\n    paginatedTickers() {\n      return this.filteredTickers.slice(this.startIndex, this.endIndex);\n    },\n\n    hasNextPage() {\n      return this.filteredTickers.length > this.endIndex;\n    },\n\n    normalizedGraph() {\n      const maxValue = Math.max(...this.graph);\n      const minValue = Math.min(...this.graph);\n\n      if (maxValue === minValue) {\n        return this.graph.map(() => 50);\n      }\n\n      return this.graph.map(\n        price => 5 + ((price - minValue) * 95) / (maxValue - minValue)\n      );\n    },\n\n    pageStateOptions() {\n      return {\n        filter: this.filter,\n        page: this.page\n      };\n    }\n  },\n\n  methods: {\n    subscribeToUpdates(tickerName) {\n      setInterval(async () => {\n        const f = await fetch(\n          `https://min-api.cryptocompare.com/data/price?fsym=${tickerName}&tsyms=USD&api_key=ce3fd966e7a1d10d65f907b20bf000552158fd3ed1bd614110baa0ac6cb57a7e`\n        );\n        const data = await f.json();\n\n        // currentTicker.price =  data.USD > 1 ? data.USD.toFixed(2) : data.USD.toPrecision(2);\n        this.tickers.find(t => t.name === tickerName).price =\n          data.USD > 1 ? data.USD.toFixed(2) : data.USD.toPrecision(2);\n\n        if (this.selectedTicker?.name === tickerName) {\n          this.graph.push(data.USD);\n        }\n      }, 5000);\n      this.ticker = \"\";\n    },\n\n    add() {\n      const currentTicker = {\n        name: this.ticker,\n        price: \"-\"\n      };\n\n      this.tickers = [...this.tickers, currentTicker];\n      this.filter = \"\";\n\n      this.subscribeToUpdates(currentTicker.name);\n    },\n\n    select(ticker) {\n      console.log(ticker);\n      this.selectedTicker = ticker;\n    },\n\n    handleDelete(tickerToRemove) {\n      this.tickers = this.tickers.filter(t => t !== tickerToRemove);\n      if (this.selectedTicker === tickerToRemove) {\n        this.selectedTicker = null;\n      }\n    }\n  },\n\n  watch: {\n    selectedTicker() {\n      this.graph = [];\n    },\n\n    tickers(newValue, oldValue) {\n      // Почему не сработал watch при добавлении?\n      console.log(newValue === oldValue);\n      localStorage.setItem(\"cryptonomicon-list\", JSON.stringify(this.tickers));\n    },\n\n    paginatedTickers() {\n      if (this.paginatedTickers.length === 0 && this.page > 1) {\n        this.page -= 1;\n      }\n    },\n\n    filter() {\n      this.page = 1;\n    },\n\n    pageStateOptions(value) {\n      window.history.pushState(\n        null,\n        document.title,\n        `${window.location.pathname}?filter=${value.filter}&page=${value.page}`\n      );\n    }\n  }\n};\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}