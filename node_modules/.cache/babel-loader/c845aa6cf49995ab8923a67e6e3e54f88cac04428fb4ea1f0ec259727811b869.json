{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"App\",\n  data() {\n    return {\n      ticker: \"\",\n      sell: null,\n      tickers: [],\n      graph: [],\n      intervals: {},\n      duplicateTicker: false\n    };\n  },\n  methods: {\n    add() {\n      const newItem = {\n        name: this.ticker.toUpperCase(),\n        value: \"-\"\n      };\n      if (this.tickers.find(t => t.name === newItem.name)) {\n        this.duplicateTicker = true;\n        return;\n      }\n      this.duplicateTicker = false;\n      this.tickers.push(newItem);\n      if (!this.intervals[newItem.name]) {\n        this.intervals[newItem.name] = setInterval(async () => {\n          const response = await fetch(`https://min-api.cryptocompare.com/data/price?fsym=${newItem.name}&tsyms=USD&api_key=YOUR_API_KEY`);\n          const data = await response.json();\n          const tickerToUpdate = this.tickers.find(t => t.name === newItem.name);\n          if (tickerToUpdate) {\n            tickerToUpdate.value = data.USD;\n          }\n          if (this.sell && this.sell.name === newItem.name) {\n            this.graph.push(data.USD);\n          }\n        }, 3000);\n      }\n      this.ticker = \"\";\n    },\n    dell(deltick) {\n      clearInterval(this.intervals[deltick.name]);\n      delete this.intervals[deltick.name];\n      this.tickers = this.tickers.filter(t => t !== deltick);\n      if (this.sell === deltick) {\n        this.sell = null;\n        this.graph = [];\n      }\n    },\n    selectTicker(tick) {\n      this.sell = tick;\n      this.graph = [];\n    }\n  }\n};","map":{"version":3,"names":["name","data","ticker","sell","tickers","graph","intervals","duplicateTicker","methods","add","newItem","toUpperCase","value","find","t","push","setInterval","response","fetch","json","tickerToUpdate","USD","dell","deltick","clearInterval","filter","selectTicker","tick"],"sources":["/home/harut/Desktop/cryptonomicon/src/App.vue"],"sourcesContent":["<template>\n  <div class=\"container mx-auto flex flex-col items-center bg-gray-100 p-4\">\n    <div class=\"container\">\n      <section>\n        <div class=\"flex\">\n          <div class=\"max-w-xs\">\n            <label for=\"wallet\" class=\"block text-sm font-medium text-gray-700\"\n              >Тикер</label\n            >\n            <div class=\"mt-1 relative rounded-md shadow-md\">\n              <input\n                v-model=\"ticker\"\n                @keydown.enter=\"add()\"\n                type=\"text\"\n                name=\"wallet\"\n                id=\"wallet\"\n                class=\"block w-full pr-10 border-gray-300 text-gray-900 focus:outline-none focus:ring-gray-500 focus:border-gray-500 sm:text-sm rounded-md\"\n                placeholder=\"Например DOGE\"\n              />\n            </div>\n            <div v-if=\"duplicateTicker\" class=\"text-sm text-red-600\">\n              Такой тикер уже добавлен\n            </div>\n          </div>\n        </div>\n        <button\n          @click=\"add()\"\n          type=\"button\"\n          class=\"my-4 inline-flex items-center py-2 px-4 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-full text-white bg-gray-600 hover:bg-gray-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\"\n        >\n          Добавить\n        </button>\n      </section>\n\n      <template v-if=\"tickers.length\">\n        <hr class=\"w-full border-t border-gray-600 my-4\" />\n        <dl class=\"mt-5 grid grid-cols-1 gap-5 sm:grid-cols-3\">\n          <div\n            v-for=\"tick in tickers\"\n            :key=\"tick.name\"\n            @click=\"selectTicker(tick)\"\n            :class=\"{ 'border-4': sell === tick }\"\n            class=\"bg-white overflow-hidden shadow rounded-lg border-purple-800 border-solid cursor-pointer\"\n          >\n            <div class=\"px-4 py-5 sm:p-6 text-center\">\n              <dt class=\"text-sm font-medium text-gray-500 truncate\">\n                {{ tick.name }}\n              </dt>\n              <dd class=\"mt-1 text-3xl font-semibold text-gray-900\">\n                {{ tick.value }}\n              </dd>\n            </div>\n            <div class=\"w-full border-t border-gray-200\"></div>\n            <button\n              @click.stop=\"dell(tick)\"\n              class=\"flex items-center justify-center font-medium w-full bg-gray-100 px-4 py-4 sm:px-6 text-md text-gray-500 hover:text-gray-600 hover:bg-gray-200 hover:opacity-20 transition-all focus:outline-none\"\n            >\n              Удалить\n            </button>\n          </div>\n        </dl>\n        <hr class=\"w-full border-t border-gray-600 my-4\" />\n      </template>\n\n      <section v-if=\"sell\" class=\"relative\">\n        <h3 class=\"text-lg leading-6 font-medium text-gray-900 my-8\">\n          {{ sell.name }} - USD\n        </h3>\n        <div class=\"flex\">\n          <div\n            v-for=\"(bar, ind) in graph\"\n            :key=\"ind\"\n            :style=\"{ height: `${bar}%` }\"\n            class=\"bg-purple-800 border w-10 mx-1\"\n          ></div>\n        </div>\n        <button\n          @click=\"sell = null\"\n          type=\"button\"\n          class=\"absolute top-0 right-0\"\n        >\n          <!-- Close button SVG here -->\n        </button>\n      </section>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"App\",\n  data() {\n    return {\n      ticker: \"\",\n      sell: null,\n      tickers: [],\n      graph: [],\n      intervals: {},\n      duplicateTicker: false,\n    };\n  },\n\n  methods: {\n    add() {\n      const newItem = {\n        name: this.ticker.toUpperCase(),\n        value: \"-\",\n      };\n\n      if (this.tickers.find((t) => t.name === newItem.name)) {\n        this.duplicateTicker = true;\n        return;\n      }\n\n      this.duplicateTicker = false;\n      this.tickers.push(newItem);\n\n      if (!this.intervals[newItem.name]) {\n        this.intervals[newItem.name] = setInterval(async () => {\n          const response = await fetch(\n            `https://min-api.cryptocompare.com/data/price?fsym=${newItem.name}&tsyms=USD&api_key=YOUR_API_KEY`\n          );\n          const data = await response.json();\n          const tickerToUpdate = this.tickers.find(\n            (t) => t.name === newItem.name\n          );\n          if (tickerToUpdate) {\n            tickerToUpdate.value = data.USD;\n          }\n\n          if (this.sell && this.sell.name === newItem.name) {\n            this.graph.push(data.USD);\n          }\n        }, 3000);\n      }\n\n      this.ticker = \"\";\n    },\n\n    dell(deltick) {\n      clearInterval(this.intervals[deltick.name]);\n      delete this.intervals[deltick.name];\n      this.tickers = this.tickers.filter((t) => t !== deltick);\n      if (this.sell === deltick) {\n        this.sell = null;\n        this.graph = [];\n      }\n    },\n\n    selectTicker(tick) {\n      this.sell = tick;\n      this.graph = [];\n    },\n  }\n};\n</script>\n\n<style src=\"./app.css\"></style>\n"],"mappings":";AAyFA,eAAe;EACbA,IAAI,EAAE,KAAK;EACXC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,MAAM,EAAE,EAAE;MACVC,IAAI,EAAE,IAAI;MACVC,OAAO,EAAE,EAAE;MACXC,KAAK,EAAE,EAAE;MACTC,SAAS,EAAE,CAAC,CAAC;MACbC,eAAe,EAAE;IACnB,CAAC;EACH,CAAC;EAEDC,OAAO,EAAE;IACPC,GAAGA,CAAA,EAAG;MACJ,MAAMC,OAAM,GAAI;QACdV,IAAI,EAAE,IAAI,CAACE,MAAM,CAACS,WAAW,CAAC,CAAC;QAC/BC,KAAK,EAAE;MACT,CAAC;MAED,IAAI,IAAI,CAACR,OAAO,CAACS,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACd,IAAG,KAAMU,OAAO,CAACV,IAAI,CAAC,EAAE;QACrD,IAAI,CAACO,eAAc,GAAI,IAAI;QAC3B;MACF;MAEA,IAAI,CAACA,eAAc,GAAI,KAAK;MAC5B,IAAI,CAACH,OAAO,CAACW,IAAI,CAACL,OAAO,CAAC;MAE1B,IAAI,CAAC,IAAI,CAACJ,SAAS,CAACI,OAAO,CAACV,IAAI,CAAC,EAAE;QACjC,IAAI,CAACM,SAAS,CAACI,OAAO,CAACV,IAAI,IAAIgB,WAAW,CAAC,YAAY;UACrD,MAAMC,QAAO,GAAI,MAAMC,KAAK,CACzB,qDAAoDR,OAAO,CAACV,IAAK,iCACpE,CAAC;UACD,MAAMC,IAAG,GAAI,MAAMgB,QAAQ,CAACE,IAAI,CAAC,CAAC;UAClC,MAAMC,cAAa,GAAI,IAAI,CAAChB,OAAO,CAACS,IAAI,CACrCC,CAAC,IAAKA,CAAC,CAACd,IAAG,KAAMU,OAAO,CAACV,IAC5B,CAAC;UACD,IAAIoB,cAAc,EAAE;YAClBA,cAAc,CAACR,KAAI,GAAIX,IAAI,CAACoB,GAAG;UACjC;UAEA,IAAI,IAAI,CAAClB,IAAG,IAAK,IAAI,CAACA,IAAI,CAACH,IAAG,KAAMU,OAAO,CAACV,IAAI,EAAE;YAChD,IAAI,CAACK,KAAK,CAACU,IAAI,CAACd,IAAI,CAACoB,GAAG,CAAC;UAC3B;QACF,CAAC,EAAE,IAAI,CAAC;MACV;MAEA,IAAI,CAACnB,MAAK,GAAI,EAAE;IAClB,CAAC;IAEDoB,IAAIA,CAACC,OAAO,EAAE;MACZC,aAAa,CAAC,IAAI,CAAClB,SAAS,CAACiB,OAAO,CAACvB,IAAI,CAAC,CAAC;MAC3C,OAAO,IAAI,CAACM,SAAS,CAACiB,OAAO,CAACvB,IAAI,CAAC;MACnC,IAAI,CAACI,OAAM,GAAI,IAAI,CAACA,OAAO,CAACqB,MAAM,CAAEX,CAAC,IAAKA,CAAA,KAAMS,OAAO,CAAC;MACxD,IAAI,IAAI,CAACpB,IAAG,KAAMoB,OAAO,EAAE;QACzB,IAAI,CAACpB,IAAG,GAAI,IAAI;QAChB,IAAI,CAACE,KAAI,GAAI,EAAE;MACjB;IACF,CAAC;IAEDqB,YAAYA,CAACC,IAAI,EAAE;MACjB,IAAI,CAACxB,IAAG,GAAIwB,IAAI;MAChB,IAAI,CAACtB,KAAI,GAAI,EAAE;IACjB;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}